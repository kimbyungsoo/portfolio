"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.getNode = void 0;

var _execute = require("./execute");

var _Node = require("./types/Node");

var _graphql = require("graphql");

const getNode = schema => ({
  type: _Node.Node,
  description: `Common endpoint`,
  args: {
    id: {
      type: new _graphql.GraphQLNonNull(_graphql.GraphQLID)
    }
  },
  resolve: async (root, args, context, info) => {
    const {
      className,
      objectId
    } = (0, _execute.parseID)(args.id);
    return await (0, _execute.runGet)(context, info, className, objectId, schema);
  }
});

exports.getNode = getNode;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9ncmFwaHFsL25vZGUuanMiXSwibmFtZXMiOlsiZ2V0Tm9kZSIsInNjaGVtYSIsInR5cGUiLCJOb2RlIiwiZGVzY3JpcHRpb24iLCJhcmdzIiwiaWQiLCJHcmFwaFFMTm9uTnVsbCIsIkdyYXBoUUxJRCIsInJlc29sdmUiLCJyb290IiwiY29udGV4dCIsImluZm8iLCJjbGFzc05hbWUiLCJvYmplY3RJZCJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUNBOztBQUVBOztBQUtPLE1BQU1BLE9BQU8sR0FBSUMsTUFBRCxLQUFhO0FBQ2xDQyxFQUFBQSxJQUFJLEVBQUVDLFVBRDRCO0FBRWxDQyxFQUFBQSxXQUFXLEVBQUcsaUJBRm9CO0FBR2xDQyxFQUFBQSxJQUFJLEVBQUU7QUFDSkMsSUFBQUEsRUFBRSxFQUFFO0FBQUVKLE1BQUFBLElBQUksRUFBRSxJQUFJSyx1QkFBSixDQUFtQkMsa0JBQW5CO0FBQVI7QUFEQSxHQUg0QjtBQU1sQ0MsRUFBQUEsT0FBTyxFQUFFLE9BQU9DLElBQVAsRUFBYUwsSUFBYixFQUFtQk0sT0FBbkIsRUFBNEJDLElBQTVCLEtBQXFDO0FBQzVDLFVBQU07QUFDSkMsTUFBQUEsU0FESTtBQUVKQyxNQUFBQTtBQUZJLFFBR0Ysc0JBQVFULElBQUksQ0FBQ0MsRUFBYixDQUhKO0FBSUEsV0FBTyxNQUFNLHFCQUFPSyxPQUFQLEVBQWdCQyxJQUFoQixFQUFzQkMsU0FBdEIsRUFBaUNDLFFBQWpDLEVBQTJDYixNQUEzQyxDQUFiO0FBQ0Q7QUFaaUMsQ0FBYixDQUFoQiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHJ1bkdldCwgcGFyc2VJRCB9IGZyb20gJy4vZXhlY3V0ZSc7XG5pbXBvcnQgIHsgTm9kZSB9IGZyb20gJy4vdHlwZXMvTm9kZSc7XG5cbmltcG9ydCB7XG4gIEdyYXBoUUxJRCxcbiAgR3JhcGhRTE5vbk51bGwsXG59IGZyb20gJ2dyYXBocWwnXG5cbmV4cG9ydCBjb25zdCBnZXROb2RlID0gKHNjaGVtYSkgPT4gKHtcbiAgdHlwZTogTm9kZSxcbiAgZGVzY3JpcHRpb246IGBDb21tb24gZW5kcG9pbnRgLFxuICBhcmdzOiB7XG4gICAgaWQ6IHsgdHlwZTogbmV3IEdyYXBoUUxOb25OdWxsKEdyYXBoUUxJRCkgfSxcbiAgfSxcbiAgcmVzb2x2ZTogYXN5bmMgKHJvb3QsIGFyZ3MsIGNvbnRleHQsIGluZm8pID0+IHtcbiAgICBjb25zdCB7XG4gICAgICBjbGFzc05hbWUsXG4gICAgICBvYmplY3RJZFxuICAgIH0gPSBwYXJzZUlEKGFyZ3MuaWQpO1xuICAgIHJldHVybiBhd2FpdCBydW5HZXQoY29udGV4dCwgaW5mbywgY2xhc3NOYW1lLCBvYmplY3RJZCwgc2NoZW1hKTtcbiAgfVxufSk7XG4iXX0=