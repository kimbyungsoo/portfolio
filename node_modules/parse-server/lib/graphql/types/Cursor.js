'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.makeCursor = makeCursor;

var _graphql = require('graphql');

var _cache = require('../cache');

function makeCursor(name, type) {
  return (0, _cache.getFromCache)(name, () => {
    const edgeType = new _graphql.GraphQLObjectType({
      name: `${name}Edge`,
      fields: () => ({
        cursor: { type: _graphql.GraphQLString },
        node: { type: type() }
      })
    });
    console.log(name);
    return new _graphql.GraphQLObjectType({
      name: `${name}`,
      fields: () => ({
        pageInfo: { type: _graphql.GraphQLString },
        edges: {
          type: new _graphql.GraphQLList(edgeType)
        },
        nodes: {
          type: new _graphql.GraphQLList(type())
        }
      })
    });
  });
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9ncmFwaHFsL3R5cGVzL0N1cnNvci5qcyJdLCJuYW1lcyI6WyJtYWtlQ3Vyc29yIiwibmFtZSIsInR5cGUiLCJlZGdlVHlwZSIsIkdyYXBoUUxPYmplY3RUeXBlIiwiZmllbGRzIiwiY3Vyc29yIiwiR3JhcGhRTFN0cmluZyIsIm5vZGUiLCJjb25zb2xlIiwibG9nIiwicGFnZUluZm8iLCJlZGdlcyIsIkdyYXBoUUxMaXN0Iiwibm9kZXMiXSwibWFwcGluZ3MiOiI7Ozs7O1FBV2dCQSxVLEdBQUFBLFU7O0FBWGhCOztBQU1BOztBQUtPLFNBQVNBLFVBQVQsQ0FBb0JDLElBQXBCLEVBQTBCQyxJQUExQixFQUFnQztBQUNyQyxTQUFPLHlCQUFhRCxJQUFiLEVBQW1CLE1BQU07QUFDOUIsVUFBTUUsV0FBVyxJQUFJQywwQkFBSixDQUFzQjtBQUNyQ0gsWUFBTyxHQUFFQSxJQUFLLE1BRHVCO0FBRXJDSSxjQUFRLE9BQU87QUFDYkMsZ0JBQVEsRUFBRUosTUFBTUssc0JBQVIsRUFESztBQUViQyxjQUFNLEVBQUVOLE1BQU1BLE1BQVI7QUFGTyxPQUFQO0FBRjZCLEtBQXRCLENBQWpCO0FBT0FPLFlBQVFDLEdBQVIsQ0FBWVQsSUFBWjtBQUNBLFdBQU8sSUFBSUcsMEJBQUosQ0FBc0I7QUFDM0JILFlBQU8sR0FBRUEsSUFBSyxFQURhO0FBRTNCSSxjQUFRLE9BQU87QUFDYk0sa0JBQVUsRUFBRVQsTUFBTUssc0JBQVIsRUFERztBQUViSyxlQUFPO0FBQ0xWLGdCQUFNLElBQUlXLG9CQUFKLENBQWdCVixRQUFoQjtBQURELFNBRk07QUFLYlcsZUFBTztBQUNMWixnQkFBTSxJQUFJVyxvQkFBSixDQUFnQlgsTUFBaEI7QUFERDtBQUxNLE9BQVA7QUFGbUIsS0FBdEIsQ0FBUDtBQVlELEdBckJNLENBQVA7QUFzQkQiLCJmaWxlIjoiQ3Vyc29yLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcbiAgR3JhcGhRTE9iamVjdFR5cGUsXG4gIEdyYXBoUUxTdHJpbmcsXG4gIEdyYXBoUUxMaXN0LFxufSBmcm9tICdncmFwaHFsJztcblxuaW1wb3J0IHtcbiAgZ2V0RnJvbUNhY2hlXG59IGZyb20gJy4uL2NhY2hlJztcblxuXG5leHBvcnQgZnVuY3Rpb24gbWFrZUN1cnNvcihuYW1lLCB0eXBlKSB7XG4gIHJldHVybiBnZXRGcm9tQ2FjaGUobmFtZSwgKCkgPT4ge1xuICAgIGNvbnN0IGVkZ2VUeXBlID0gbmV3IEdyYXBoUUxPYmplY3RUeXBlKHtcbiAgICAgIG5hbWU6IGAke25hbWV9RWRnZWAsXG4gICAgICBmaWVsZHM6ICgpID0+ICh7XG4gICAgICAgIGN1cnNvcjogeyB0eXBlOiBHcmFwaFFMU3RyaW5nIH0sXG4gICAgICAgIG5vZGU6IHsgdHlwZTogdHlwZSgpIH1cbiAgICAgIH0pXG4gICAgfSk7XG4gICAgY29uc29sZS5sb2cobmFtZSk7XG4gICAgcmV0dXJuIG5ldyBHcmFwaFFMT2JqZWN0VHlwZSh7XG4gICAgICBuYW1lOiBgJHtuYW1lfWAsXG4gICAgICBmaWVsZHM6ICgpID0+ICh7XG4gICAgICAgIHBhZ2VJbmZvOiB7IHR5cGU6IEdyYXBoUUxTdHJpbmcgfSxcbiAgICAgICAgZWRnZXM6IHtcbiAgICAgICAgICB0eXBlOiBuZXcgR3JhcGhRTExpc3QoZWRnZVR5cGUpXG4gICAgICAgIH0sXG4gICAgICAgIG5vZGVzOiB7XG4gICAgICAgICAgdHlwZTogbmV3IEdyYXBoUUxMaXN0KHR5cGUoKSlcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICB9KTtcbiAgfSk7XG59XG4iXX0=